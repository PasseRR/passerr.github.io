{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "log",
  "scopeName": "text.log",
  "fileTypes": ["log"],
  "patterns": [
    { "include": "#levels" },
    { "include": "#dates" },
    { "include": "#constants" },
    { "include": "#strings" },
    { "include": "#exceptions" },
    { "include": "#urls" }
  ],
  "repository": {
    "levels": {
      "patterns": [
        {
          "match": "\\b(Trace)\\b:",
          "name": "comment.line.log.verbose"
        },
        {
          "match": "(?i)\\[(verbose|verb|vrb|vb|v)\\]",
          "name": "comment.line.log.verbose"
        },
        {
          "match": "(?<=^[\\s\\d\\p]*)\\bV\\b",
          "name": "comment.line.log.verbose"
        },

        {
          "match": "\\b(DEBUG|Debug)\\b|(?i)\\bdebug\\:",
          "name": "markup.changed.log.debug"
        },
        {
          "match": "(?i)\\[(debug|dbug|dbg|de|d)\\]",
          "name": "markup.changed.log.debug"
        },
        {
          "match": "(?<=^[\\s\\d\\p]*)\\bD\\b",
          "name": "markup.changed.log.debug"
        },

        {
          "match": "\\b(HINT|INFO|INFORMATION|Info|NOTICE|II)\\b|(?i)\\binfo\\:",
          "name": "markup.inserted.log.info"
        },
        {
          "match": "(?i)\\[(information|info|inf|in|i)\\]",
          "name": "markup.inserted.log.info"
        },
        {
          "match": "(?<=^[\\s\\d\\p]*)\\bI\\b",
          "name": "markup.inserted.log.info"
        },

        {
          "match": "\\b(WARNING|WARN|Warn|WW)\\b|(?i)\\bwarning\\:",
          "name": "markup.deleted.log.warning"
        },
        {
          "match": "(?i)\\[(warning|warn|wrn|wn|w)\\]",
          "name": "markup.deleted.log.warning"
        },
        {
          "match": "(?<=^[\\s\\d\\p]*)\\bW\\b",
          "name": "markup.deleted.log.warning"
        },

        {
          "match": "\\b(ALERT|CRITICAL|EMERGENCY|ERROR|FAILURE|FAIL|Fatal|FATAL|Error|EE)\\b|(?i)\\berror\\:",
          "name": "string.regexp.log.error"
        },
        {
          "match": "(?i)\\[(error|eror|err|er|e|fatal|fatl|ftl|fa|f)\\]",
          "name": "string.regexp.log.error"
        },
        {
          "match": "(?<=^[\\s\\d\\p]*)\\bE\\b",
          "name": "string.regexp.log.error"
        }
      ]
    },

    "dates": {
      "patterns": [
        {
          "match": "\\b\\d{4}-\\d{2}-\\d{2}(T|\\b)",
          "name": "comment.line.log.date"
        },
        {
          "match": "(?<=(^|\\s))\\d{2}[^\\w\\s]\\d{2}[^\\w\\s]\\d{4}\\b",
          "name": "comment.line.log.date"
        },
        {
          "match": "\\d{1,2}:\\d{2}(:\\d{2}([.,]\\d{1,})?)?(Z| ?[+-]\\d{1,2}:\\d{2})?\\b",
          "name": "comment.line.log.date"
        }
      ]
    },

    "constants": {
      "patterns": [
        {
          "match": "\\b([0-9a-fA-F]{40}|[0-9a-fA-F]{10}|[0-9a-fA-F]{7})\\b",
          "name": "constant.language.log"
        },
        {
          "match": "\\b[0-9a-fA-F]{8}[-]?([0-9a-fA-F]{4}[-]?){3}[0-9a-fA-F]{12}\\b",
          "name": "constant.language.log"
        },
        {
          "match": "\\b([0-9a-fA-F]{2,}[:-])+[0-9a-fA-F]{2,}+\\b",
          "name": "constant.language.log"
        },
        {
          "match": "\\b([0-9]+|true|false|null)\\b",
          "name": "constant.language.log"
        },
        {
          "match": "\\b0x[a-fA-F0-9]+\\b",
          "name": "constant.language.log"
        }
      ]
    },

    "strings": {
      "patterns": [
        {
          "match": "\"[^\"]*\"",
          "name": "string.quoted.double.log"
        },
        {
          "match": "(?<![\\w])'[^']*'",
          "name": "string.quoted.single.log"
        }
      ]
    },

    "exceptions": {
      "patterns": [
        {
          "match": "\\b[a-zA-Z.]*Exception\\b",
          "name": "entity.name.type.exception.log"
        },
        {
          "begin": "^[\\t ]*at",
          "end": "$",
          "name": "string.unquoted.stacktrace.log"
        }
      ]
    },

    "urls": {
      "patterns": [
        {
          "match": "\\b[a-z]+://\\S+\\b/?",
          "name": "markup.underline.link.log"
        },
        {
          "match": "(?<![\\w/\\\\])([\\w-]+\\.)+([\\w-])+(?![\\w/\\\\])",
          "name": "markup.underline.link.log"
        }
      ]
    }
  }
}
